name: Test the app

on:
    push:
        branches: main
        paths-ignore:
          - README.md
          - .github/workflows/lint.yaml
          - .github/workflows/app-tests.yaml

    workflow_dispatch:

jobs:
   app-tests:
    name: Test the app by running proj1 tests.py
    runs-on: ubuntu-latest
    steps:

    - name: check out main
      uses: actions/checkout@main

    - name: run tests
      run: |
            pip install -r proj1/scripts/app/web-app/requirements.txt
            python3 proj1/scripts/app/web-app/tests.py
